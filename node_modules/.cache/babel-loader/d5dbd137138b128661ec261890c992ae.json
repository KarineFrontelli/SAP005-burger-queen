{"ast":null,"code":"var _jsxFileName = \"/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/Components/Breakfast/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport IndeterminateCheckBoxIcon from \"@material-ui/icons/IndeterminateCheckBox\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\n\nconst Breakfast = () => {\n  _s();\n\n  const classes = useStyles();\n  const token = localStorage.getItem(\"token\");\n  const [coffee, setCoffe] = useState(\"\");\n  const [produto, setProduto] = useState([]);\n  const [total, setTotal] = useState(0);\n  const nomeCliente = sessionStorage.getItem(\"cliente\");\n  const numeroMesa = sessionStorage.getItem(\"mesa\");\n\n  const handleRemoveItem = indice => {\n    const ItensFiltrados = produto.filter((_, index) => indice != index);\n    setProduto(ItensFiltrados);\n    console.log(indice);\n  };\n\n  const handleAdicionaItem = index => {\n    let newArrayProduto = [...produto];\n    newArrayProduto[index].qtd++;\n    newArrayProduto[index].price = newArrayProduto[index].initialPrice * newArrayProduto[index].qtd;\n    setProduto(newArrayProduto);\n  };\n\n  const handleRemoverItem = index => {\n    let newArrayProduto = [...produto];\n    newArrayProduto[index].qtd--;\n    newArrayProduto[index].price = newArrayProduto[index].initialPrice * newArrayProduto[index].qtd;\n    setProduto(newArrayProduto);\n  };\n\n  useEffect(() => {\n    const soma = produto.reduce((valorAnterior, valorAtual) => valorAnterior + valorAtual.price, 0);\n    setTotal(soma);\n  }, [produto]);\n\n  const handleEnviar = () => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: token\n      },\n      body: JSON.stringify({\n        client: nomeCliente,\n        table: numeroMesa,\n        products: produto.map(item => ({\n          id: Number(item.id),\n          qtd: item.qtd\n        }))\n      })\n    }).then(response => response.json()).then(json => {\n      alert(\"Pedido estÃ¡ sendo preparado!\");\n    });\n    return total;\n  };\n\n  function handleItem(item) {\n    setProduto(prevProduto => [...prevProduto, item]);\n  }\n\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/products\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        accept: \"application/json\",\n        Authorization: `${token}`\n      }\n    }).then(response => response.json()).then(json => {\n      const coffee = json.filter(item => item.type === \"breakfast\");\n      setCoffe(coffee);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container-breakfast\",\n    children: [coffee && coffee.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-itens\",\n      onClick: e => {\n        const name = item.name;\n        const price = item.price;\n        const id = item.id;\n        const qtd = 1;\n        const initialPrice = item.price;\n        const objeto = {\n          name,\n          price,\n          id,\n          qtd,\n          initialPrice\n        };\n        handleItem(objeto);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: Intl.NumberFormat(\"pt-BR\", {\n          style: \"currency\",\n          currency: \"BRL\"\n        }).format(item.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-pedidos\",\n      children: [produto.length > 0 && produto.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pedido\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Qtd: \", item.qtd]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\", Intl.NumberFormat(\"pt-BR\", {\n            style: \"currency\",\n            currency: \"BRL\"\n          }).format(item.price)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: \"btn-adicionar\",\n          type: \"submit\",\n          onClick: () => handleAdicionaItem(index),\n          children: /*#__PURE__*/_jsxDEV(AddBoxIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: \"btn-remover\",\n          type: \"submit\",\n          onClick: () => handleRemoverItem(index),\n          children: /*#__PURE__*/_jsxDEV(IndeterminateCheckBoxIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: \"btn-delete\",\n          \"aria-label\": \"delete\",\n          className: \"btn-deletar\",\n          type: \"submit\",\n          onClick: () => handleRemoveItem(index),\n          children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"App-valor-total\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Valor Total:\", \" \", Intl.NumberFormat(\"pt-BR\", {\n            style: \"currency\",\n            currency: \"BRL\"\n          }).format(total)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"secundary\",\n      className: classes.button,\n      onClick: handleEnviar,\n      children: \"Preparar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Breakfast, \"MECqYZwpEpsKrc3+3piw5YIicyg=\", false, function () {\n  return [useStyles];\n});\n\n_c = Breakfast;\nexport default Breakfast;\n\nvar _c;\n\n$RefreshReg$(_c, \"Breakfast\");","map":{"version":3,"sources":["/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/Components/Breakfast/index.js"],"names":["React","useEffect","useState","DeleteIcon","IconButton","IndeterminateCheckBoxIcon","AddBoxIcon","Button","makeStyles","useStyles","theme","button","margin","spacing","Breakfast","classes","token","localStorage","getItem","coffee","setCoffe","produto","setProduto","total","setTotal","nomeCliente","sessionStorage","numeroMesa","handleRemoveItem","indice","ItensFiltrados","filter","_","index","console","log","handleAdicionaItem","newArrayProduto","qtd","price","initialPrice","handleRemoverItem","soma","reduce","valorAnterior","valorAtual","handleEnviar","fetch","method","headers","accept","Authorization","body","JSON","stringify","client","table","products","map","item","id","Number","then","response","json","alert","handleItem","prevProduto","type","e","name","objeto","Intl","NumberFormat","style","currency","format","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport IndeterminateCheckBoxIcon from \"@material-ui/icons/IndeterminateCheckBox\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst Breakfast = () => {\n  const classes = useStyles();\n  const token = localStorage.getItem(\"token\");\n  const [coffee, setCoffe] = useState(\"\");\n  const [produto, setProduto] = useState([]);\n  const [total, setTotal] = useState(0);\n  const nomeCliente = sessionStorage.getItem(\"cliente\");\n  const numeroMesa = sessionStorage.getItem(\"mesa\");\n\n  const handleRemoveItem = (indice) => {\n    const ItensFiltrados = produto.filter((_, index) => indice != index);\n    setProduto(ItensFiltrados);\n    console.log(indice);\n  };\n\n  const handleAdicionaItem = (index) => {\n    let newArrayProduto = [...produto];\n    newArrayProduto[index].qtd++;\n    newArrayProduto[index].price =\n      newArrayProduto[index].initialPrice * newArrayProduto[index].qtd;\n    setProduto(newArrayProduto);\n  };\n\n  const handleRemoverItem = (index) => {\n    let newArrayProduto = [...produto];\n    newArrayProduto[index].qtd--;\n    newArrayProduto[index].price =\n      newArrayProduto[index].initialPrice * newArrayProduto[index].qtd;\n    setProduto(newArrayProduto);\n  };\n\n  useEffect(() => {\n    const soma = produto.reduce(\n      (valorAnterior, valorAtual) => valorAnterior + valorAtual.price,\n      0\n    );\n    setTotal(soma);\n  }, [produto]);\n\n  const handleEnviar = () => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: token,\n      },\n      body: JSON.stringify({\n        client: nomeCliente,\n        table: numeroMesa,\n        products: produto.map((item) => ({\n          id: Number(item.id),\n          qtd: item.qtd,\n        })),\n      }),\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        alert(\"Pedido estÃ¡ sendo preparado!\");\n      });\n    return total;\n  };\n\n  function handleItem(item) {\n    setProduto((prevProduto) => [...prevProduto, item]);\n  }\n\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/products\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        accept: \"application/json\",\n        Authorization: `${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        const coffee = json.filter((item) => item.type === \"breakfast\");\n        setCoffe(coffee);\n      });\n  }, []);\n\n  return (\n    <section className=\"container-breakfast\">\n      {coffee &&\n        coffee.map((item, index) => (\n          <div\n            className=\"container-itens\"\n            key={index}\n            onClick={(e) => {\n              const name = item.name;\n              const price = item.price;\n              const id = item.id;\n              const qtd = 1;\n              const initialPrice = item.price;\n              const objeto = {\n                name,\n                price,\n                id,\n                qtd,\n                initialPrice,\n              };\n              handleItem(objeto);\n            }}\n          >\n            <p>{item.name}</p>\n            <p>\n              {Intl.NumberFormat(\"pt-BR\", {\n                style: \"currency\",\n                currency: \"BRL\",\n              }).format(item.price)}\n            </p>\n          </div>\n        ))}\n\n      <div className=\"container-pedidos\">\n        {produto.length > 0 &&\n          produto.map((item, index) => (\n            <div className=\"pedido\" key={index}>\n              <p>{item.name}</p>\n              <p>Qtd: {item.qtd}</p>\n              <p>\n                {\"\"}\n                {Intl.NumberFormat(\"pt-BR\", {\n                  style: \"currency\",\n                  currency: \"BRL\",\n                }).format(item.price)}\n              </p>\n              <IconButton\n                className=\"btn-adicionar\"\n                type=\"submit\"\n                onClick={() => handleAdicionaItem(index)}\n              >\n                <AddBoxIcon />\n              </IconButton>\n              <IconButton\n                className=\"btn-remover\"\n                type=\"submit\"\n                onClick={() => handleRemoverItem(index)}\n              >\n                <IndeterminateCheckBoxIcon />\n              </IconButton>\n              <IconButton\n                className=\"btn-delete\"\n                aria-label=\"delete\"\n                className=\"btn-deletar\"\n                type=\"submit\"\n                onClick={() => handleRemoveItem(index)}\n              >\n                <DeleteIcon />\n              </IconButton>\n            </div>\n          ))}\n        <section className=\"App-valor-total\">\n          <h2>\n            Valor Total:{\" \"}\n            {Intl.NumberFormat(\"pt-BR\", {\n              style: \"currency\",\n              currency: \"BRL\",\n            }).format(total)}\n          </h2>\n        </section>\n      </div>\n\n      <Button\n        variant=\"contained\"\n        color=\"secundary\"\n        className={classes.button}\n        onClick={handleEnviar}\n      >\n        Preparar\n      </Button>\n    </section>\n  );\n};\nexport default Breakfast;\n"]},"metadata":{},"sourceType":"module"}