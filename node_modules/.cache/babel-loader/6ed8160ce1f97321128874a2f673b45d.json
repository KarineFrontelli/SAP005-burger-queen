{"ast":null,"code":"var _jsxFileName = \"/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/pages/Kitchen/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Header from \"../../Components/Header\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cozinha() {\n  _s();\n\n  const token = localStorage.getItem(\"token\");\n  const [cozinha, setCozinha] = useState(\"\");\n  const rota = useHistory();\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`\n      }\n    }).then(response => response.json()).then(json => {\n      const cozinha = json.filter(item => item.status === \"pending\");\n      setCozinha(cozinha);\n      rota.push(\"/cozinha\");\n    });\n  }, []);\n\n  const handleReady = event => {\n    const token = localStorage.getItem(\"token\");\n    const parent = event.target.parentNode.parentNode;\n    const newId = parent.getAttribute(\"id\");\n    localStorage.setItem(\"id\", newId);\n    const idOrder = localStorage.getItem(\"id\");\n    fetch(`https://lab-api-bq.herokuapp.com/orders/${idOrder}`, {\n      method: \"PUT\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`\n      },\n      body: JSON.stringify({\n        status: \"Pronto\"\n      })\n    }).then(response => response.json()).then(json => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"App-text-pedidosPendentes\",\n        children: \"Pedidos Pendentes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container-cozinha\",\n      children: [cozinha && cozinha.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        id: item.id,\n        className: \"container-itens\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"PEDIDO EFETUADO: \", new Date(item.createdAt).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Cliente: \", item.client_name]\n        }, Math.random(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Mesa: \", item.table]\n        }, Math.random(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"N\\xBA do pedido: \", item.id]\n        }, Math.random(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Produtos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), item.Products.map(Products => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [Products.name, \" \", Products.flavor, \" \", Products.complement, \"Qtd: \", Products.qtd]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleReady,\n            children: \"Pronto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Cozinha, \"MztgTJhduWfygyWScVKwrFUVGMQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Cozinha;\nexport default Cozinha;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cozinha\");","map":{"version":3,"sources":["/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/pages/Kitchen/index.js"],"names":["useEffect","useState","Header","useHistory","Cozinha","token","localStorage","getItem","cozinha","setCozinha","rota","fetch","method","headers","accept","Authorization","then","response","json","filter","item","status","push","handleReady","event","parent","target","parentNode","newId","getAttribute","setItem","idOrder","body","JSON","stringify","map","index","id","Date","createdAt","toLocaleString","client_name","Math","random","table","Products","name","flavor","complement","qtd"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Header from \"../../Components/Header\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Cozinha() {\n  const token = localStorage.getItem(\"token\");\n  const [cozinha, setCozinha] = useState(\"\");\n  const rota = useHistory();\n\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        const cozinha = json.filter((item) => item.status === \"pending\");\n        setCozinha(cozinha);\n        rota.push(\"/cozinha\");\n      });\n  }, []);\n\n  const handleReady = (event) => {\n    const token = localStorage.getItem(\"token\");\n    const parent = event.target.parentNode.parentNode;\n    const newId = parent.getAttribute(\"id\");\n    localStorage.setItem(\"id\", newId);\n    const idOrder = localStorage.getItem(\"id\");\n\n    fetch(`https://lab-api-bq.herokuapp.com/orders/${idOrder}`, {\n      method: \"PUT\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`,\n      },\n      body: JSON.stringify({\n        status: \"Pronto\",\n      }),\n    })\n      .then((response) => response.json())\n      .then((json) => {});\n  };\n\n  return (\n    <>\n      <div>\n        <Header />\n      </div>\n      <div>\n        <h2 className=\"App-text-pedidosPendentes\">Pedidos Pendentes</h2>\n      </div>\n      <section className=\"container-cozinha\">\n        {cozinha &&\n          cozinha.map((item, index) => (\n            <div id={item.id} className=\"container-itens\" key={index}>\n              <p>\n                PEDIDO EFETUADO: {new Date(item.createdAt).toLocaleString()}\n              </p>\n              <p key={Math.random()}>Cliente: {item.client_name}</p>\n              <p key={Math.random()}>Mesa: {item.table}</p>\n              <p key={Math.random()}>Nº do pedido: {item.id}</p>\n\n              <div>\n                <p>Produtos:</p>\n                {item.Products.map((Products) => (\n                  <p>\n                    {Products.name} {Products.flavor} {Products.complement}\n                    Qtd: {Products.qtd}\n                  </p>\n                ))}\n                <button type=\"submit\" onClick={handleReady}>\n                  Pronto\n                </button>\n              </div>\n            </div>\n          ))}\n        ;\n      </section>\n    </>\n  );\n}\nexport default Cozinha;\n"]},"metadata":{},"sourceType":"module"}