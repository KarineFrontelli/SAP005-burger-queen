{"ast":null,"code":"var _jsxFileName = \"/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/pages/Orders/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../../Components/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Orders() {\n  _s();\n\n  const token = localStorage.getItem(\"token\");\n  const [cozinha, setCozinha] = useState(\"\");\n  const back = useHistory();\n\n  function BackPage() {\n    back.push(\"/salao\");\n  }\n\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`\n      }\n    }).then(response => response.json()).then(json => {\n      const cozinha = json.filter(item => item.status !== \"pending\");\n      setCozinha(cozinha);\n    });\n  }, []);\n\n  const handleFinish = event => {\n    const token = localStorage.getItem(\"token\");\n    const parent = event.target.parentNode.parentNode;\n    const newId = parent.getAttribute(\"id\");\n    localStorage.setItem(\"id\", newId);\n    const idOrder = localStorage.getItem(\"id\");\n    fetch(`https://lab-api-bq.herokuapp.com/orders/${idOrder}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`\n      }\n    }).then(response => response.json()).then(json => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-back\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: BackPage,\n        children: \"VOLTAR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"App-text-pedidosProntos\",\n      children: \"PEDIDOS PRONTOS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container-cozinha\",\n      children: cozinha && cozinha.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        id: item.id,\n        className: \"container-itens\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Pedido pronto: \", new Date(item.updatedAt).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Cliente: \", item.client_name]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Mesa: \", item.table]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"N\\xBA do pedido: \", item.id]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status do pedido: \", item.status]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Produtos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), item.Products.map(Products => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [Products.name, \" \", Products.flavor, \" \", Products.complement, Products.qtd]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-entregue\",\n            type: \"submit\",\n            onClick: handleFinish,\n            children: \"ENTREGUE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Orders, \"zfMj7D/sbR5V/kBZqlhTgYmNKZg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["/home/rebeca/Documentos/Laboratoria/clonados/SAP005-burger-queen/src/pages/Orders/index.js"],"names":["useEffect","useState","useHistory","Header","Orders","token","localStorage","getItem","cozinha","setCozinha","back","BackPage","push","fetch","method","headers","accept","Authorization","then","response","json","filter","item","status","handleFinish","event","parent","target","parentNode","newId","getAttribute","setItem","idOrder","map","index","id","Date","updatedAt","toLocaleString","client_name","table","Products","name","flavor","complement","qtd"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../../Components/Header\";\n\nfunction Orders() {\n  const token = localStorage.getItem(\"token\");\n  const [cozinha, setCozinha] = useState(\"\");\n  const back = useHistory();\n\n  function BackPage() {\n    back.push(\"/salao\");\n  }\n\n  useEffect(() => {\n    fetch(\"https://lab-api-bq.herokuapp.com/orders\", {\n      method: \"GET\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        const cozinha = json.filter((item) => item.status !== \"pending\");\n        setCozinha(cozinha);\n      });\n  }, []);\n\n  const handleFinish = (event) => {\n    const token = localStorage.getItem(\"token\");\n    const parent = event.target.parentNode.parentNode;\n    const newId = parent.getAttribute(\"id\");\n    localStorage.setItem(\"id\", newId);\n    const idOrder = localStorage.getItem(\"id\");\n\n    fetch(`https://lab-api-bq.herokuapp.com/orders/${idOrder}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Access-Control-Allow-Credentials\": true,\n        \"Access-Control-Allow-Methods\": \"GET,OPTIONS,PATCH,DELETE,POST\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n        Authorization: `${token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((json) => {});\n  };\n  return (\n    <>\n      <div>\n        <Header />\n      </div>\n\n      <div className=\"btn-back\">\n        <p onClick={BackPage}>VOLTAR</p>\n      </div>\n\n      <h2 className=\"App-text-pedidosProntos\">PEDIDOS PRONTOS</h2>\n\n      <section className=\"container-cozinha\">\n        {cozinha &&\n          cozinha.map((item, index) => (\n            <div id={item.id} className=\"container-itens\" key={index}>\n              <p>Pedido pronto: {new Date(item.updatedAt).toLocaleString()}</p>\n              <p key={index}>Cliente: {item.client_name}</p>\n              <p key={index}>Mesa: {item.table}</p>\n              <p key={index}>Nº do pedido: {item.id}</p>\n              <p key={index}>Status do pedido: {item.status}</p>\n\n              <div>\n                <p>Produtos:</p>\n                {item.Products.map((Products) => (\n                  <p>\n                    {Products.name} {Products.flavor} {Products.complement}\n                    {Products.qtd}\n                  </p>\n                ))}\n                <button\n                  className=\"btn-entregue\"\n                  type=\"submit\"\n                  onClick={handleFinish}\n                >\n                  ENTREGUE\n                </button>\n              </div>\n            </div>\n          ))}\n      </section>\n    </>\n  );\n}\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}